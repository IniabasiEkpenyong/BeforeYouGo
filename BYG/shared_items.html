<h2 class="text-xl font-bold text-blue-600 mt-10 text-center">Shared Bucket List</h2>
<div class="cards-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
  {% for event in shared_events %}
    <div class="bg-white shadow-md rounded-lg p-4 flex flex-col justify-between">
      <h3 class="text-lg font-semibold text-gray-700">{{ event.bucket.item }}</h3>
      <p class="text-gray-600">{{ event.bucket.area }}</p>
      <p class="text-gray-600 max-h-24 overflow-y-auto">{{ event.bucket.descrip }}</p>
      <p class="text-sm text-gray-500">Shared with: 
        {{ event.participants | map(attribute='user_netid') | join(', ') }}
      </p>
      {% if event.date %}
        <p class="text-sm text-gray-500">Planned for: {{ event.date.strftime('%b %d, %Y') }}</p>
      {% endif %}
      <form action="/complete_shared_event" method="POST" class="mt-3">
        <input type="hidden" name="shared_event_id" value="{{ event.id }}">
        <input type="submit" class="btn btn-sm btn-outline-success" value="{% if event.is_completed %}Completed{% else %}Mark Completed{% endif %}">
      </form>
    </div>
  {% endfor %}
</div>

{% if is_admin %}
<li class="nav-item">
  <a class="nav-link {{ 'active' if request.path == '/admin' }}" href="/admin">
    <i class="fas fa-lock"></i> Admin
    {% if pending_count > 0 %}
      <span class="badge bg-warning text-dark">{{ pending_count }}</span>
    {% endif %}
  </a>
</li>
{% endif %}