<h2 class="text-xl font-bold text-orange-600 mt-10 text-center">Group Events</h2>
<p class="text-gray-600 text-center my-6">Complete events with your friends!</p>
<div class="cards-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
  {% if shared_events|length == 0 %}
    <p class="text-center">You have no shared events yet.</p>
  {% else %}
    {% for event in shared_events %}
      <div class="bg-white shadow-md rounded-lg p-4 flex flex-col justify-between">
        <h3 class="text-lg font-semibold text-gray-700">{{ event.bucket.item }}</h3>
        <p class="text-gray-600">{{ event.bucket.area }}</p>
        <p class="text-gray-600 max-h-24 overflow-y-auto">{{ event.bucket.descrip }}</p>
        <p class="text-sm text-gray-500">Shared with: 
          {{ event.participants | map(attribute='user_netid') | join(', ') }}
        </p>
        
        {% if event.date %}

        <p class="text-sm text-gray-500">
          {% if event.date %}
            {% if event.is_completed %}Happened on:{% else %}Planned for:{% endif %}
            {{ event.date.strftime('%b %d, %Y') }}
          {% else %}
            {% if event.is_completed %}Happened{% else %}Planned{% endif %}
          {% endif %}
        </p>

        {% endif %}
        
        <span class="mt-2 inline-block text-sm {{ 'text-green-500' if event.is_completed else 'text-red-500' }}">
          {{ 'Completed' if event.is_completed else 'Not Completed' }}
        </span>
        <form action="/complete_shared_event" method="POST" class="mt-3">
          <input type="hidden" name="shared_event_id" value="{{ event.id }}">
          <input type="submit" class="btn btn-sm btn-outline-success" value="{% if event.is_completed %}Completed{% else %}Mark Completed{% endif %}">
        </form>
      </div>
    {% endfor %}
  {% endif %}
</div>